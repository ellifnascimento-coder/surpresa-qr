<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

<title>carregando surpresa...</title>

<style>
/* =====================
   üé® PERSONALIZA√á√ÉO
   ===================== */

:root{
  --bg:#0f0f14;
  --text:#ffffff;
  --btn:#2196f3; /* üîµ AZUL */
  --btn-text:#fff;
}

/* ===================== */

body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:monospace;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  overflow:hidden;
  text-align:center;
}

.card{
  max-width:520px;
}

.floating{
  position:fixed; /* üî• em vez de absolute */
  font-size:11px;
  opacity:.15;
  pointer-events:none;
  white-space:nowrap;
}

button{
  margin-top:30px;
  padding:14px 28px;
  border:none;
  border-radius:12px;
  font-size:16px;
  background:var(--btn);
  color:var(--btn-text);
  cursor:pointer;
  transition:.2s;
}

button:hover{
  transform:scale(1.05);
}

/* loading piscando */
.blink{
  animation:blink 0.8s infinite;
}
@keyframes blink{
  50%{opacity:.3}
}

/* barra real */
.progress{
  width:100%;
  height:16px;
  background:#333;
  border-radius:10px;
  margin-top:20px;
  overflow:hidden;
}
.bar{
  height:100%;
  width:0%;
  background:#2196f3;
  transition:.2s;
}

/* tela erro */
.error{
  font-family: monospace;
  color:#ff5555;
  text-align:left;
  white-space:pre-line;
}

/* textos pequenos espalhados */
.floating{
  position:absolute;
  font-size:11px;
  opacity:.25;
}

</style>
</head>

<body>
<div class="card" id="card">
  <div id="content"></div>
  <div id="buttons"></div>
</div>

<script>
const content = document.getElementById("content");
const buttons = document.getElementById("buttons");
const card = document.getElementById("card");

let step = 0;

   /* ========= SOM BEEP ========= */
function beep(freq=700, duration=80){

  const ctx = new (window.AudioContext || window.webkitAudioContext)();

  const osc = ctx.createOscillator();
  const gain = ctx.createGain();

  osc.connect(gain);
  gain.connect(ctx.destination);

  osc.frequency.value = freq;
  osc.type = "square";

  osc.start();

  gain.gain.exponentialRampToValueAtTime(
    0.00001,
    ctx.currentTime + duration/1000
  );

  osc.stop(ctx.currentTime + duration/1000);
}


/* =============================
   FUN√á√ÉO BOT√ÉO PADR√ÉO
============================= */
function setButton(text, action){
  buttons.innerHTML = "";
  const b = document.createElement("button");
  b.innerText = text;
  b.onclick = action;
  buttons.appendChild(b);
}

/* =============================
   ETAPA 1
============================= */
function etapa1(){
content.innerHTML = `
voc√™ acabou de escanear um QR Code.<br><br>
n√£o tem volta.
`;
setButton("seguir mesmo assim", etapa2);
}

/* =============================
   ETAPA 2 ‚Äì piscando + SOM
============================= */
function etapa2(){

content.innerHTML = `
coletando dados...<br><br>
<span id="s">surpresa: ...</span><br>
<span id="c">confus√£o: ...</span><br>
<span id="j">julgamento silencioso: ...</span>
`;

setButton("prosseguir", etapa3);

const s=document.getElementById("s");
const c=document.getElementById("c");
const j=document.getElementById("j");

function piscar(el, texto, delay, freq){

  setTimeout(()=>{

    el.classList.add("blink");
    beep(freq,120);

    setTimeout(()=>{
      el.innerHTML = texto;
      el.classList.remove("blink");
    },500);

  }, delay);
}

piscar(s,"surpresa: OK",500,800);
piscar(c,"confus√£o: OK",1400,650);
piscar(j,"julgamento silencioso: PROV√ÅVEL",2300,500);

}

/* =============================
   ETAPA 3 ‚Äì barra real + % VIS√çVEL
============================= */
function etapa3(){

content.innerHTML=`
carregando conte√∫do de baixa qualidade...<br><br>

<div class="progress">
  <div class="bar" id="bar"></div>
</div>

<div id="percent" style="
  margin-top:12px;
  font-size:18px;
  font-weight:bold;
">
0%
</div>
`;

const bar=document.getElementById("bar");
const percent=document.getElementById("percent");

let width=0;

/* bot√£o s√≥ aparece no final (melhor UX) */
buttons.innerHTML="";

let interval=setInterval(()=>{

  width++;

  bar.style.width = width + "%";
  percent.innerText = width + "%";

  if(width>=100){
    clearInterval(interval);

    percent.innerText="100% ‚úì";

    setButton("aceitar termos que n√£o li", etapa4);
  }

}, 25);

}

/* =============================
   ETAPA 4 ‚Äì tela erro forte
============================= */
function etapa4(){

content.innerHTML=`
<div class="error">
ERROS FATAIS DETECTADOS

[FAIL] QR Code em flores
[FAIL] essa p√°gina existir
[CRITICAL] voc√™ ainda aqui

Sistema inst√°vel.
Recomendado: fechar o navegador.
</div>
`;

setButton("continuar por curiosidade", etapa5);
}

/* =============================
   ETAPA 5
============================= */
function etapa5(){

content.innerHTML=`
isso N√ÉO √© um flerte.<br>
talvez seja.<br>
depende do ponto de vista.<br>
dos astros.<br>
e do seu humor hoje.<br>
`;

setButton("ok mas quero ver", etapa6);
}

/* =============================
   ETAPA 6 ‚Äì respira√ß√£o + textos espalhados
============================= */
function etapa6(){

content.innerHTML=`
PAUSA OBRIGAT√ìRIA.<br><br>
<span id="respira" style="font-size:22px;opacity:.8">inspira‚Ä¶</span>
`;

const r = document.getElementById("respira");

let estado = true;

/* alterna inspira/expira */
setInterval(()=>{
  r.innerText = estado ? "expira‚Ä¶" : "inspira‚Ä¶";
  r.style.opacity = estado ? ".3" : "1";
  estado = !estado;
}, 900);


/* remove antigos */
document.querySelectorAll(".floating").forEach(e=>e.remove());

/* espalha pela TELA INTEIRA (n√£o no card) */
for(let i=0;i<30;i++){

  const t=document.createElement("div");

  t.className="floating";
  t.innerText="*observa√ß√£o irrelevante: eu sou meio apaixonada por voc√™";

  t.style.left=Math.random()*100+"vw";
  t.style.top=Math.random()*100+"vh";
  t.style.transform=`rotate(${Math.random()*30-15}deg)`;

  document.body.appendChild(t);
}

setButton("fingir que n√£o li e continuar", etapa7);
}

/* =============================
   ETAPA 7 ‚Äì psicologia reversa
============================= */
function etapa7(){

content.innerHTML=`
aviso:<br>
nada aqui faz sentido.<br>
mas voc√™ clicou em continuar.<br>
ent√£o a curiosidade venceu.
`;

buttons.innerHTML="";

const sim=document.createElement("button");
sim.innerText="sim";

const nao=document.createElement("button");
nao.innerText="n√£o";

buttons.appendChild(sim);
buttons.appendChild(nao);

let fugidas=0;

/* ========= SIM ========= */
sim.onclick = ()=>{
  mostrarSabia();
};


/* ========= N√ÉO fugindo ========= */
nao.onmouseover = ()=>{

  fugidas++;

  nao.style.position="absolute";
  nao.style.left=Math.random()*80+"%";
  nao.style.top=Math.random()*80+"%";

  if(fugidas>=10){
    nao.remove();

    content.innerHTML += `<br><br><small style="opacity:.5">para de mentir pra si mesma.</small>`;
  }
};

}

/* =============================
   SABIA + bot√£o final
============================= */
function mostrarSabia(){

content.innerHTML=`
sabia.
`;

setButton("ok, termina logo isso", etapa8);

}


/* =============================
   ETAPA 8
============================= */
function etapa8(){
content.innerHTML=`
parab√©ns.<br>
voc√™ chegou at√© o final.<br>
ningu√©m pediu por isso.
`;
setButton("ver conclus√£o", mostrarShrek);
}

/* =============================
   SHREK
============================= */
function mostrarShrek(){
document.body.innerHTML=`
<video autoplay controls style="width:100vw;height:100vh;object-fit:cover">
<source src="https://media.tenor.com/0ygiqFa0-4QAAAAC/shrek-dance.mp4">
</video>`;
}

etapa1();
</script>
</body>
</html>
